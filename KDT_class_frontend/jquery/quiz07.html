<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>

<body>
    파일첨부<button id="addFile">+</button>
    <fieldset>
        <legend>File List</legend>
    </fieldset>
    <script>
        let btnCnt = 0;

        $("#addFile").on("click", function () {
            if ($(".fileSet").length >= 5) {
                alert("최대 5개까지 생성 가능합니다.");
                return;
            }

            // let fileItem = $(
            //     "<div class=\"fileSet\">" +
            //     "<input type=\"file\">" +
            //     "<input type=\"button\" class=\"deleteBtn\" value=\"X\"><br>" +
            //     "</div>"
            // );

            // $("fieldset").append(fileItem);

            $("fieldset")
                .append($("<div>").addClass("fileSet")
                    .append($("<input>").attr("type", "file"))
                    .append($("<button>").html("X").addClass("deleteBtn")));

            $(".deleteBtn").on("click", function () {
                $(this).closest(".fileSet").remove();
            })
        });
    </script>
</body>

</html>